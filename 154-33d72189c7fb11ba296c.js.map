{"version":3,"sources":["webpack:///./config/modernizr-config.json","webpack:///./src/components/pack/NsfwModal.tsx","webpack:///./src/components/pack/Sticker.tsx","webpack:///./src/components/pack/StickerPackDetail.tsx","webpack:///./src/components/pack/StickerPackError.tsx","webpack:///./src/components/pack/Tag.tsx","webpack:///./src/hooks/use-query.ts"],"names":["window","hadGlobal","oldGlobal","Modernizr","e","n","t","r","o","indexOf","i","createElement","arguments","x","createElementNS","call","apply","l","u","a","f","d","p","c","body","fake","s","parseInt","id","appendChild","type","styleSheet","cssText","createTextNode","style","background","overflow","_","parentNode","removeChild","offsetHeight","replace","toLowerCase","getComputedStyle","console","getPropertyValue","error","currentStyle","length","CSS","supports","push","join","toUpperCase","z","modElem","m","y","h","v","shift","charAt","slice","w","split","P","g","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","on","this","setTimeout","addTest","name","fn","options","addAsyncTest","prototype","C","S","_cssomPrefixes","documentElement","nodeName","b","elem","unshift","_domPrefixes","testAllProps","hasOwnProperty","aliases","Boolean","E","document","module","exports","NsfwModal","NsfwModalComponent","useEffect","$","show","keyboard","backdrop","className","role","href","target","rel","to","title","onClick","Sticker","StickerComponent","stickerId","useState","useAsyncEffect","Promise","getEmojiForSticker","packId","packKey","getConvertedStickerInPack","setEmoji","setStickerSrc","emoji","src","alt","StickerPackDetail","LinkifyHrefDecorator","decoratedHref","key","StickerPackDetailComponent","useParams","useQuery","setSearchQuery","useContext","history","useHistory","setStickerPack","getStickerPack","err","setStickerPackError","source","stickerPack","numStickers","author","stickerPackTags","addToSignalHref","event","componentDecorator","tag","sticker","StickerPackError","props","children","Tag","TagComponent","URLSearchParams","useLocation","search"],"mappings":"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","file":"154-33d72189c7fb11ba296c.js","sourcesContent":[";(function(window){\nvar hadGlobal = 'Modernizr' in window;\nvar oldGlobal = window.Modernizr;\n/*! modernizr 3.9.1 (Custom Build) | MIT *\n * https://modernizr.com/download/?-backdropfilter !*/\n!function(e,n,t){function r(e,n){return typeof e===n}function o(e,n){return!!~(\"\"+e).indexOf(n)}function i(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):x?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function s(){var e=n.body;return e||(e=i(x?\"svg\":\"body\"),e.fake=!0),e}function l(e,t,r,o){var l,u,a,f,d=\"modernizr\",p=i(\"div\"),c=s();if(parseInt(r,10))for(;r--;)a=i(\"div\"),a.id=o?o[r]:d+(r+1),p.appendChild(a);return l=i(\"style\"),l.type=\"text/css\",l.id=\"s\"+d,(c.fake?c:p).appendChild(l),c.appendChild(p),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(n.createTextNode(e)),p.id=d,c.fake&&(c.style.background=\"\",c.style.overflow=\"hidden\",f=_.style.overflow,_.style.overflow=\"hidden\",_.appendChild(c)),u=t(p,e),c.fake?(c.parentNode.removeChild(c),_.style.overflow=f,_.offsetHeight):p.parentNode.removeChild(p),!!u}function u(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function a(n,t,r){var o;if(\"getComputedStyle\"in e){o=getComputedStyle.call(e,n,t);var i=e.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var s=i.error?\"error\":\"log\";i[s].call(i,\"getComputedStyle returning null, its possible modernizr test results are inaccurate\")}}else o=!t&&n.currentStyle&&n.currentStyle[r];return o}function f(n,r){var o=n.length;if(\"CSS\"in e&&\"supports\"in e.CSS){for(;o--;)if(e.CSS.supports(u(n[o]),r))return!0;return!1}if(\"CSSSupportsRule\"in e){for(var i=[];o--;)i.push(\"(\"+u(n[o])+\":\"+r+\")\");return i=i.join(\" or \"),l(\"@supports (\"+i+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"===a(e,null,\"position\")})}return t}function d(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function p(e,n,s,l){function u(){p&&(delete z.style,delete z.modElem)}if(l=!r(l,\"undefined\")&&l,!r(s,\"undefined\")){var a=f(e,s);if(!r(a,\"undefined\"))return a}for(var p,c,m,y,h,v=[\"modernizr\",\"tspan\",\"samp\"];!z.style&&v.length;)p=!0,z.modElem=i(v.shift()),z.style=z.modElem.style;for(m=e.length,c=0;c<m;c++)if(y=e[c],h=z.style[y],o(y,\"-\")&&(y=d(y)),z.style[y]!==t){if(l||r(s,\"undefined\"))return u(),\"pfx\"!==n||y;try{z.style[y]=s}catch(e){}if(z.style[y]!==h)return u(),\"pfx\"!==n||y}return u(),!1}function c(e,n){return function(){return e.apply(n,arguments)}}function m(e,n,t){var o;for(var i in e)if(e[i]in n)return!1===t?e[i]:(o=n[e[i]],r(o,\"function\")?c(o,t||n):o);return!1}function y(e,n,t,o,i){var s=e.charAt(0).toUpperCase()+e.slice(1),l=(e+\" \"+w.join(s+\" \")+s).split(\" \");return r(n,\"string\")||r(n,\"undefined\")?p(l,n,o,i):(l=(e+\" \"+P.join(s+\" \")+s).split(\" \"),m(l,n,t))}function h(e,n,r){return y(e,t,t,n,r)}var v=[],g={_version:\"3.9.1\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){v.push({name:e,fn:n,options:t})},addAsyncTest:function(e){v.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=g,Modernizr=new Modernizr;var C=[],S=\"Moz O ms Webkit\",w=g._config.usePrefixes?S.split(\" \"):[];g._cssomPrefixes=w;var _=n.documentElement,x=\"svg\"===_.nodeName.toLowerCase(),b={elem:i(\"modernizr\")};Modernizr._q.push(function(){delete b.elem});var z={style:b.elem.style};Modernizr._q.unshift(function(){delete z.style});var P=g._config.usePrefixes?S.toLowerCase().split(\" \"):[];g._domPrefixes=P,g.testAllProps=y,g.testAllProps=h,Modernizr.addTest(\"backdropfilter\",h(\"backdropFilter\")),function(){var e,n,t,o,i,s,l;for(var u in v)if(v.hasOwnProperty(u)){if(e=[],n=v[u],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=r(n.fn,\"function\")?n.fn():n.fn,i=0;i<e.length;i++)s=e[i],l=s.split(\".\"),1===l.length?Modernizr[l[0]]=o:(Modernizr[l[0]]&&(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean)||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=o),C.push((o?\"\":\"no-\")+l.join(\"-\"))}}(),delete g.addTest,delete g.addAsyncTest;for(var E=0;E<Modernizr._q.length;E++)Modernizr._q[E]();e.Modernizr=Modernizr}(window,document);\nmodule.exports = window.Modernizr;\nif (hadGlobal) { window.Modernizr = oldGlobal; }\nelse { delete window.Modernizr; }\n})(window);","import {styled} from 'linaria/react';\nimport Modernizr from 'modernizr';\nimport {Link} from 'react-router-dom';\nimport React, {useEffect} from 'react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\n\nimport {NAVBAR_HEIGHT} from 'etc/constants';\n\n// ----- Styles ----------------------------------------------------------------\n\n/**\n * These styles turn Bootstrap's .modal class into a custom backdrop that does\n * not cover the navbar. We then hide Bootstrap's .modal-backdrop element when\n * the component is mounted.\n */\nconst NsfwModal = styled.div`\n  background: rgba(255, 255, 255, ${() => Modernizr.backdropfilter ? 0.75 : 1});\n  backdrop-filter: blur(20px);\n  margin-top: ${NAVBAR_HEIGHT}px;\n  margin-bottom: ${NAVBAR_HEIGHT}px;\n\n  & .modal-dialog {\n    min-height: calc(100% - ${NAVBAR_HEIGHT * 1}px);\n    margin: 0 auto ${NAVBAR_HEIGHT}px auto;\n\n    &:before {\n      height: 0;\n    }\n  }\n\n  & .modal-content {\n    border-color: rgba(0, 0, 0, 0.12);\n    box-shadow: 0px 0px 32px 0px rgba(0, 0, 0, 0.12);\n  }\n\n  & .octicon {\n    font-size: 1em;\n    height: 1em;\n    width: 1em;\n  }\n`;\n\n// ----- Component -------------------------------------------------------------\n\nconst NsfwModalComponent: React.FunctionComponent = () => {\n  /**\n   * Show the modal when the component is rendered for the first time.\n   */\n  useEffect(() => {\n    $('#nsfw-modal').modal({\n      show: true,\n      // These two settings ensure the modal cannot be dismissed by clicking the\n      // backdrop.\n      keyboard: false,\n      backdrop: 'static'\n    });\n\n    // By not adding this class to the markup, we ensure the modal (and our\n    // custom backdrop) appear immediately when the component renders. By adding\n    // it here, however, we ensure a smooth fade-out animation when the modal is\n    // closed.\n    $('#nsfw-modal').addClass('fade');\n\n    // We don't use Bootstraps top-level backdrop, so hide it.\n    $('.modal-backdrop').css('display', 'none');\n  }, []);\n\n\n  /**\n   * Hides the modal when the 'Show pack' button is clicked.\n   */\n  const onHideNsfwModalClick = () => {\n    $('#nsfw-modal').modal('hide');\n  };\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <NsfwModal id=\"nsfw-modal\" className=\"modal\" role=\"dialog\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h3 className=\"modal-title\">\n              <Octicon name=\"alert\" /> Content Warning\n            </h3>\n          </div>\n          <div className=\"modal-body\">\n            <p>\n              This pack has been marked <i>Not Safe For Work</i> (<a href=\"https://www.urbandictionary.com/define.php?term=NSFW\" target=\"_blank\" rel=\"noopener noreferrer\">NSFW</a>).\n              <br/>\n              This means that it may contain nudity, sexual content, or other potentially disturbing subject matter.\n            </p>\n            <p>You should not view this pack at work, or with children around.</p>\n          </div>\n          <div className=\"modal-footer\">\n            <Link to=\"/\" className=\"btn btn-secondary\" title=\"Go back home\">\n              Go back home\n            </Link>\n            <button className=\"btn btn-primary\" onClick={onHideNsfwModalClick}>\n              Show the pack\n            </button>\n          </div>\n        </div>\n      </div>\n    </NsfwModal>\n  );\n};\n\n\nexport default NsfwModalComponent;\n","import React, {useState} from 'react';\nimport {styled} from 'linaria/react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {getConvertedStickerInPack, getEmojiForSticker} from 'lib/stickers';\nimport {bp} from 'lib/utils';\n\n\n// ----- Props -----------------------------------------------------------------\n\nexport interface Props {\n  packId: string;\n  packKey: string;\n  stickerId: number;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst Sticker = styled.div`\n  border: 1px solid rgba(0, 0, 0, .125);\n  border-radius: 4px;\n  position: relative;\n\n  & .emoji {\n    position: absolute;\n    top: 2px;\n    left: 6px;\n    opacity: 0.75;\n  }\n\n  & img {\n    width: 72px;\n    height: 72px;\n    object-fit: contain;\n  }\n\n  @media ${bp('sm')} {\n    & img {\n      width: 128px;\n      height: 128px;\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst StickerComponent: React.FunctionComponent<Props> = ({packId, packKey, stickerId}) => {\n  const [emoji, setEmoji] = useState('');\n  const [stickerSrc, setStickerSrc] = useState('');\n\n\n  /**\n   * [Effect] Load sticker data and emoji for the sticker indicated in our\n   * props.\n   */\n  useAsyncEffect(async () => {\n    const [\n      emojiResult,\n      stickerResult\n    ] = await Promise.all([\n      getEmojiForSticker(packId, packKey, stickerId),\n      getConvertedStickerInPack(packId, packKey, stickerId)\n    ]);\n\n    setEmoji(emojiResult);\n    setStickerSrc(stickerResult);\n  }, []);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  if (!emoji || !stickerSrc) {\n    return null; // tslint:disable-line no-null-keyword\n  }\n\n  return (\n    <Sticker className=\"shadow-sm m-3 p-4\">\n      <div className=\"emoji\">{emoji}</div>\n      <img src={stickerSrc} alt=\"Sticker\" />\n    </Sticker>\n  );\n};\n\n\nexport default StickerComponent;\n","import React, {useState, useContext} from 'react';\nimport {Link, useParams, useHistory} from 'react-router-dom';\nimport Linkify from 'react-linkify';\nimport {styled} from 'linaria/react';\nimport {darken} from 'polished';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {GRAY, SIGNAL_BLUE} from 'etc/colors';\nimport {StickerPack} from 'etc/types';\nimport useQuery from 'hooks/use-query';\nimport {getStickerPack} from 'lib/stickers';\nimport {bp} from 'lib/utils';\n\nimport Sticker from './Sticker';\nimport StickerPackError from './StickerPackError';\nimport Tag from './Tag';\nimport StickersContext from 'contexts/StickersContext';\n\nimport NsfwModal from './NsfwModal';\n\n// ----- Types -----------------------------------------------------------------\n\n/**\n * URL parameters that we expect to have set when this component is rendered.\n */\nexport interface UrlParams {\n  packId: string;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StickerPackDetail = styled.div`\n  background-color: white;\n\n  @media ${bp('sm')} {\n    border-radius: 4px;\n    border: 1px solid ${darken(0.15, GRAY)};\n  }\n\n  & .list-group-item {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    font-size: 14px;\n\n    & .octicon {\n      font-size: 20px;\n      margin-right: 20px;\n    }\n  }\n\n  & .octicon-globe {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-file-directory {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-alert {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-star {\n    color: gold;\n  }\n\n  & .octicon-tag {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .title {\n    font-size: 32px;\n    font-weight: 600;\n  }\n\n  @media ${bp('md')} {\n    & .list-group-item {\n      font-size: inherit;\n\n      & .octicon {\n        font-size: 20px;\n        margin-right: 20px;\n      }\n    }\n\n    & .title {\n      font-size: 42px;\n      font-weight: 600;\n    }\n  }\n\n  & .author {\n    font-size: 16px;\n    font-weight: 400;\n    opacity: 0.6;\n  }\n\n  & strong {\n    font-weight: 600;\n  }\n\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\n/**\n * Custom component for Linkify links that adds \"target\" and \"rel\" attributes.\n */\nfunction LinkifyHrefDecorator(decoratedHref: string, decoratedText: string, key: number) {\n  return (\n    <a href={decoratedHref} key={key} target=\"_blank\" rel=\"noreferrer\">{decoratedText}</a>\n  );\n}\n\n\nconst StickerPackDetailComponent: React.FunctionComponent = () => {\n  // Extract :packId from the URL.\n  const {packId} = useParams<UrlParams>();\n\n  // Extract the optional \"key\" query param from the URL.\n  const key = useQuery().get('key') || undefined;\n\n  // StickerPack object for the requested pack.\n  const [stickerPack, setStickerPack] = useState<StickerPack>();\n\n  // One of many possible error codes we may catch when trying to load or\n  // decrypt a sticker pack. This will be used to determine what error message\n  // to show the user.\n  const [stickerPackError, setStickerPackError] = useState('');\n\n  // Current search query, will be used if the users clicks on author\n  const {setSearchQuery} = useContext(StickersContext);\n  const history = useHistory();\n\n\n  /**\n   * [Effect] Set `stickerPack` when the component mounts.\n   */\n  useAsyncEffect(async () => {\n    try {\n      if (!packId) {\n        return;\n      }\n\n      setStickerPack(await getStickerPack(packId, key));\n    } catch (err) {\n      if (err.code) {\n        setStickerPackError(err.code);\n      }\n    }\n  }, []);\n\n  /**\n   * [Event Handler] Search for packs from the same author\n   */\n  function onAuthorClick(event: React.SyntheticEvent) {\n    event.preventDefault();\n    setSearchQuery(event.currentTarget.textContent);\n    history.push('/');\n  }\n\n\n  // ----- Render --------------------------------------------------------------\n\n  if (!packId || !stickerPack) {\n    // If an error code has been set, display an error alert to the user.\n    if (stickerPackError) {\n      switch (stickerPackError) {\n        case 'NO_KEY_PROVIDED':\n          return (\n            <StickerPackError>\n              <p>This sticker pack is not listed in the Signal Stickers directory. However, if you have the pack's <strong>key</strong>, you can still preview the sticker pack by supplying a <code>key</code> parameter in the URL.</p>\n              <p>For example: <code>{`/pack/${packId}?key=sticker-pack-key`}</code></p>\n            </StickerPackError>\n          );\n        case 'MANIFEST_DECRYPT':\n          return (\n            <StickerPackError>\n              <p>The provided key is invalid.</p>\n            </StickerPackError>\n          );\n        default:\n          return (\n            <StickerPackError>\n              <p>An unknown error occurred ({stickerPackError}).</p>\n            </StickerPackError>\n          );\n      }\n    }\n\n    // If we don't have an error, we're likely still waiting on an async\n    // operation, so render nothing.\n    return null; // tslint:disable-line no-null-keyword\n  }\n\n  const source = stickerPack.meta.source || 'N/A';\n  const numStickers = stickerPack.manifest.stickers.length;\n  // N.B. Signal allows strings containing only whitespace as authors. In these\n  // cases, use 'Anonymous' instead.\n  const author = stickerPack.manifest.author.trim() ? stickerPack.manifest.author : 'Anonymous';\n  const stickerPackTags = stickerPack.meta.tags || [];\n  const addToSignalHref = `https://signal.art/addstickers/#pack_id=${packId}&pack_key=${stickerPack.meta.key}`;\n\n\n  // TODO: Fix logic around displaying home button to better detect when we're\n  // viewing an unlisted sticker pack.\n  return (\n    <StickerPackDetail className=\"px-1 px-sm-4 py-4 mt-0 mt-sm-5 mb-5\">\n    {stickerPack.meta.nsfw ? <NsfwModal></NsfwModal> : null}\n      <div className=\"row mb-4 flex-column-reverse flex-lg-row\">\n        <div className=\"col-12 col-lg-8 mt-4 mt-lg-0\">\n          <div className=\"title\">{stickerPack.manifest.title}</div>\n          <div className=\"author\"><a title={`View more packs from ${author}`} href=\"\" onClick={onAuthorClick}>{author}</a></div>\n        </div>\n        <div className=\"col-12 col-lg-4 d-flex d-lg-block justify-content-between text-md-right\">\n          {stickerPack.meta ? <Link to=\"/\">\n            <button type=\"button\" className=\"btn btn-link mr-2\">\n              Home\n            </button>\n          </Link> : null}\n          <a href={addToSignalHref} target=\"_blank\" rel=\"noreferrer\" title=\"Add to Signal\">\n            <button className=\"btn btn-primary\">\n              <Octicon name=\"plus\" />&nbsp;Add to Signal\n            </button>\n          </a>\n        </div>\n      </div>\n\n      {stickerPack.meta ? <div className=\"row mb-4\">\n        <div className=\"col-12 col-lg-6\">\n          <ul className=\"list-group\">\n            {stickerPack.meta.original ? <li className=\"list-group-item text-wrap text-break\">\n            <Octicon name=\"star\" title=\"Original sticker pack\" /> This pack has been created exclusively for Signal by the artist, from original artworks.\n            </li> : null}\n            <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"globe\" title=\"Source\" />\n              <div>\n                <Linkify componentDecorator={LinkifyHrefDecorator}>{source}</Linkify>\n              </div>\n            </li>\n            <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"file-directory\" title=\"Sticker Count\" />\n              {numStickers}\n            </li>\n            <li className=\"list-group-item\">\n              <Octicon name=\"tag\" title=\"Tags\" />\n              <div className=\"text-wrap text-break\">\n                {stickerPackTags.length === 0 ? 'None' : stickerPackTags.map(tag => (<Tag key={tag}>{tag}</Tag>))}\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div> : null}\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"d-flex flex-wrap justify-content-around\">\n            {stickerPack.manifest.stickers.map(sticker => (<Sticker packId={packId} packKey={stickerPack.meta.key} stickerId={sticker.id} key={sticker.id} />))}\n          </div>\n        </div>\n      </div>\n    </StickerPackDetail>\n  );\n};\n\n\nexport default StickerPackDetailComponent;\n","import React from 'react';\n\n\nconst StickerPackError: React.FunctionComponent = props => {\n  return (\n    <div className=\"p-4 my-4\">\n      <div className=\"row mb-4\">\n        <div className=\"col-10 offset-1 alert alert-danger\">\n          <h3 className=\"alert-heading mt-1 mb-3\">Error</h3>\n          {props.children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nexport default StickerPackError;\n","import React, {useContext} from 'react';\nimport {styled} from 'linaria/react';\nimport {useHistory} from 'react-router-dom';\n\nimport {SIGNAL_BLUE} from 'etc/colors';\n\nimport StickersContext from 'contexts/StickersContext';\n\n\nconst Tag = styled.button`\n  background-color: ${SIGNAL_BLUE};\n  border-radius: 4px;\n  color: white;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  margin: 2px;\n  padding: 2px 8px;\n  text-transform: capitalize;\n`;\n\n\nconst TagComponent: React.FunctionComponent = props => {\n  // Current search query, will be used if the users clicks on tags\n  const {setSearchQuery} = useContext(StickersContext);\n  const history = useHistory();\n\n\n  /**\n   * [Event Handler] Search from packs with same tags\n   */\n  function onTagClick(event: React.SyntheticEvent) {\n    event.preventDefault();\n    setSearchQuery(event.currentTarget.textContent);\n    history.push('/');\n  }\n\n  return (\n    <Tag className=\"btn\" onClick={onTagClick} title={`View more packs with tag \"${props.children}\"`}>\n      {props.children}\n    </Tag>\n  );\n};\n\n\nexport default TagComponent;\n","import {useLocation} from 'react-router-dom';\n\n\n/**\n * Custom hook for introspecting URL query parameters.\n *\n * Example usage:\n *\n * const query = useQuery();\n * query.get('foo');\n */\nexport default function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n"],"sourceRoot":""}